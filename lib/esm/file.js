import{__awaiter as e,__generator as t}from"./_virtual/_tslib.js";import{readFile as n,unlink as r,access as i,constants as s,writeFile as o,mkdir as u,appendFile as c}from"node:fs/promises";import a from"node:os";var readFileContent=function(r){return e(void 0,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,n(r)];case 1:return[2,e.sent().toString()]}})})},deleteFile=function(n){return e(void 0,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,r(n)];case 1:return e.sent(),[2]}})})},hasFileOrDir=function(n){return e(void 0,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i(n,s.R_OK|s.W_OK)];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},writeFileContent=function(n,r){return e(void 0,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,hasFileOrDir(e=n.split("/").slice(0,-1).join("/"))];case 1:if(t.sent())return[3,3];return[4,u(e,{recursive:!0})];case 2:t.sent(),t.label=3;case 3:return[4,o(n,r)];case 4:return t.sent(),[2]}})})},appendFileContent=function(n,r){return e(void 0,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,hasFileOrDir(e=n.split("/").slice(0,-1).join("/"))];case 1:if(t.sent())return[3,3];return[4,u(e,{recursive:!0})];case 2:t.sent(),t.label=3;case 3:return[4,c(n,"".concat(r).concat(a.EOL))];case 4:return t.sent(),[2]}})})};export{appendFileContent,deleteFile,hasFileOrDir,readFileContent,writeFileContent};
